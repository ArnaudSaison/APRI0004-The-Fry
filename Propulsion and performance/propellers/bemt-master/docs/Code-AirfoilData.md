- [Airfoil polars](docs/Code-AirfoilData.md#airfoil-polars)
  - [XFoil2Mat](docs/Code-AirfoilData.md#xfoil2mat)
- [Airfoil geometry](docs/Code-AirfoilData.md#airfoil-polars)

---

## Airfoils polars

In its core, the Blade Element Momentum Theory is based on the analysis of the
airfoil polars, in order to evaluate the lift and drag coefficients at each
section.

This code requires the loading of airfoil polars to determine the $`C_l`$ and
$`C_d`$ of each blade element. The common way to generate such polars is to use
[XFoil](https://web.mit.edu/drela/Public/web/xfoil/). Currently, XFoil is not
called automatically by the BEMT code, so the user must generate manually a few
polars for their airfoils of interest.

In order to get the best results possible, it is strongly advised to generate
the polars for different Reynolds number and for a wide range of angle of
attacks (even slightly stalled ones). By using polars of different Reynolds
and/or Mach number the BEMT will be more precise, as it will rely on the best
fit for each blade section and not a single polar curve for every flow
condition.

An ideal polar curve used for input would have the following properties:

- start a bit before the minimal lift angle
- go a bit beyond the stall angle

This will result in the best calculation of the curve slope, and the
determination of the important angles (stall, zero lift, etc). In all cases, it
is mandatory to **use curves that span over the zero-lift angle**, as it is
required to calculate the true inflow angle.

### XFoil2Mat

The BEMT code does not process directly the XFoil data as it is. These raw XFoil
output need to be parsed and formatted in a clear structure first. To do that, a
separate script is provided in the form of
[XFoil2Mat](https://gitlab.uliege.be/thlamb/xfoil2mat).

This script aggregates one or multiple polars into a single structure for
simpler handling within Matlab. **The present BEMT code expects any polar input
to comply with the structure (same fields and dimensions) as outputted by
XFoil2Mat.**

Once a `.mat` file with the polar is extracted using `XFoil2Mat`, place it in
the folder `src/airfoils_data` and indicate its filename in the
[configuration](docs/Code-Config.md).

Examples of such input files are provided in the 'airfoils_data' folder.

## Airfoil geometry

This BEMT code provides a function to display a 3D representation of the
rotor/propeller and of a single blade with colors indicating the thrust
generated by element.

In order to be as accurate as possible, you can provide a `.dat` file with the
contour points of your airfoil. Such data can be found on the [UIUC Airfoil Data
Site](https://m-selig.ae.illinois.edu/ads/coord_database.html) or
[airfoiltools.com](http://www.airfoiltools.com/).

_Note that this function was made to quickly assess the rotor dimensions and the
distribution of forces along the blade. It is not a proper CAD result and the
figures generated should not be presented as such._
